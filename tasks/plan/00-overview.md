# YAML Formatter 테스트 수정 계획 - 전체 개요

## 목표
CI/CD 파이프라인에서 안정적으로 실행될 수 있는 유닛 테스트 구축

## 현재 상황 분석
- ✅ **config 패키지**: 모든 테스트 통과
- ✅ **utils 패키지**: 모든 테스트 통과
- ❌ **formatter 패키지**: 24개 실패 중 일부 실패
- ❌ **schema 패키지**: 24개 실패 중 일부 실패

## 수정 전략

### 1단계: 기반 구조 수정 (우선순위: 높음)
- **schema 패키지 안정화**: formatter가 의존하는 기반 모듈
- **테스트 데이터 정리**: 일관성 있는 테스트 데이터 구조

### 2단계: 핵심 기능 테스트 (우선순위: 높음)
- **formatter 핵심 로직**: 파싱, 리오더링, 포맷팅
- **schema 로딩/저장**: 스키마 관리 기능

### 3단계: 통합 테스트 (우선순위: 중간)
- **end-to-end 시나리오**: 실제 사용 케이스
- **에러 핸들링**: 예외 상황 처리

### 4단계: CI/CD 최적화 (우선순위: 낮음)
- **테스트 성능 개선**: 빠른 피드백
- **병렬 실행**: 테스트 시간 단축

## 수행 순서
1. `01-schema-package.md` - Schema 패키지 수정
2. `02-test-data-cleanup.md` - 테스트 데이터 정리
3. `03-formatter-core.md` - Formatter 핵심 기능
4. `04-formatter-advanced.md` - Formatter 고급 기능
5. `05-integration-tests.md` - 통합 테스트
6. `06-ci-optimization.md` - CI/CD 최적화

## 성공 지표
- [ ] 모든 유닛 테스트 통과율 95% 이상
- [ ] 테스트 실행 시간 2분 이내
- [ ] 코드 커버리지 80% 이상
- [ ] CI 파이프라인 안정성 99% 이상

## 위험 요소 및 대응 방안
- **테스트 데이터 불일치**: 표준화된 테스트 데이터 생성
- **환경 의존성**: Mock 사용으로 격리
- **복잡한 로직**: 단위별 분할 테스트
- **성능 문제**: 경량화된 테스트 데이터 사용